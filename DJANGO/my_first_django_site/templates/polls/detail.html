{% extends 'polls/base.html' %}
{% load static %}

{% block title %}
<title>Detalle</title>
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/polls/detail.css' %}">
{% endblock %}

{% block content %}
<div class="detail-container">

<div class="detail">
    <p class="title">@{{user.username}} pregunta:</p>
    <p class="question">{{question.question_text}}</p>
    
    <form action="{% url 'polls:vote' question.id %}" method="POST" class="form">
        {% csrf_token %}

            <input type="hidden" name="user" value="{{user.pk}}">

            {% for choice in question.choice_set.all %}
                <div class="choice">
                    <input type="radio" name="choice" id="choice{{ forloop.counter }}" value="{{ choice.id }}">
                    <label for="choice{{ forloop.counter }}">{{ choice.choice_text }}</label><br>
                </div>   
            {% endfor %}


            {% if error_message %}
            <p class="error-message"><strong>{{ error_message }}</strong></p>
            {% else %}
            <input type="submit" value="Votar" class="form-button">
            {% endif %}
        
    </form> 

</div>

</div>
{% endblock %}